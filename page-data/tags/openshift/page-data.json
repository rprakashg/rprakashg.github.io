{"componentChunkName":"component---src-templates-tag-js","path":"/tags/openshift/","result":{"data":{"site":{"siteMetadata":{"title":"rprakashg.github.io","author":"RAM GOPINATHAN"}},"allMarkdownRemark":{"totalCount":1,"edges":[{"node":{"excerpt":"Most customers use an external system for storing user identities and groups that control level of access on applications and resources deployed within the corporate network. Openshift containerâ€¦","html":"<p>Most customers use an external system for storing user identities and groups that control level of access on applications and resources deployed within the corporate network. Openshift container platform ships with a builtin OAuth server that can be configured to integrate with external identity provider systems to authenticate users accessing the cluster and control level of access they have on the cluster with clusterroles and rolebindings.</p>\n<p>For demonstration I have provisioned an OpenShift cluster on AWS and also have a OKTA developer tenant at <code class=\"language-text\">https://dev-6782679.okta.com</code> where I have created following users and groups:</p>\n<table>\n<thead>\n<tr>\n<th>User Name</th>\n<th>Member Of</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Mark Smith  (<a href=\"mailto:msmith@acme.org\">msmith@acme.org</a>)</td>\n<td>cluster-admins</td>\n</tr>\n<tr>\n<td>Tiger Woods (<a href=\"mailto:twoods@acme.org\">twoods@acme.org</a>)</td>\n<td>teama</td>\n</tr>\n<tr>\n<td>Ram G (<a href=\"mailto:rprakashg@acme.org\">rprakashg@acme.org</a>)</td>\n<td>teamb</td>\n</tr>\n</tbody>\n</table>\n<p>Mark smith role is cluster administrator and Tiger Woods and Ram G are developers working on teama and teamb respectively. When tiger woods logs into cluster we want to restrict access to teama project/namespace and when Ram G logs into cluster we want to restrict access to teamb namespace.</p>\n<p>First thing we need to do is to configure identity provider to be able to login to OpenShift cluster with okta. I have created a new application in my OKTA tenant and have saved the <code class=\"language-text\">clientID</code> and <code class=\"language-text\">clientSecret</code> to a local file. I've also automated steps to configure identity provider using ansible. You can find the ansible script <a href=\"https://github.com/rprakashg-redhat/rbac-demos/blob/main/configure-oauth.yaml\">here</a></p>\n<p>In my ansible automation scripts I'm using a static vars yaml file to load some configuration related to identity provider</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">customRoles</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">contributor</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"contributor\"</span>\n    <span class=\"token key atrule\">assignTo</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">claim</span><span class=\"token punctuation\">:</span> teama\n        <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> teama\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">claim</span><span class=\"token punctuation\">:</span> teamb\n        <span class=\"token key atrule\">namespace</span><span class=\"token punctuation\">:</span> teamb\n<span class=\"token key atrule\">providers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">okta</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> okta\n    <span class=\"token key atrule\">claims</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">email</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> email\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> name\n      <span class=\"token key atrule\">preferredUsername</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> preferred_username\n      <span class=\"token key atrule\">groups</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> groups\n    <span class=\"token key atrule\">extraScopes</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> email\n    <span class=\"token punctuation\">-</span> profile\n    <span class=\"token punctuation\">-</span> groups\n    <span class=\"token key atrule\">issuer</span><span class=\"token punctuation\">:</span>  https<span class=\"token punctuation\">:</span>//dev<span class=\"token punctuation\">-</span>6782679.okta.com\n    <span class=\"token key atrule\">secretName</span><span class=\"token punctuation\">:</span> okta<span class=\"token punctuation\">-</span>secret\n    <span class=\"token key atrule\">adminClaim</span><span class=\"token punctuation\">:</span> cluster<span class=\"token punctuation\">-</span>admins</code></pre></div>\n<p>I'm also using another vars file loaded from directory called <code class=\"language-text\">dynamic</code> which stores okta <code class=\"language-text\">clientId</code> and <code class=\"language-text\">clientSecret</code>. we are splitting this into seperate file because we don't want to checkin this to git. I'm using a .gitignore file to tell git to ignore everything in the dynamic directory except the .gitignore file.</p>\n<p>First thing that happens when ansible playbook executes is that I load the dynamic vars and merge them as shown in the snippet below.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"> <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> include variables\n   <span class=\"token key atrule\">include_vars</span><span class=\"token punctuation\">:</span>\n     <span class=\"token key atrule\">file</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item }}\"</span>\n     <span class=\"token key atrule\">hash_behaviour</span><span class=\"token punctuation\">:</span> merge\n   <span class=\"token key atrule\">loop</span><span class=\"token punctuation\">:</span>\n   <span class=\"token punctuation\">-</span> vars/dynamic/vars.yaml</code></pre></div>\n<p>Next we are going to create a kubernetes secret in the <code class=\"language-text\">openshift-config</code> namespace to store the <code class=\"language-text\">clientSecret</code></p>\n<p>Lastly we update the OAuth configuration to add the OKTA identity provider using the <a href=\"https://docs.ansible.com/ansible/latest/collections/kubernetes/core/k8s_module.html\"><code class=\"language-text\">kubernetes.core.k8s</code></a> module as shown in the snippet below</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> configure oauth \n  <span class=\"token key atrule\">kubernetes.core.k8s</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n    <span class=\"token key atrule\">apply</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n    <span class=\"token key atrule\">resource_definition</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ lookup('template', 'templates/oauth.yaml.j2') | from_yaml }}\"</span></code></pre></div>\n<p>I've gone ahead and run the ansible playbook using command below and it completed successfully.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ansible-playbook -v configure-oauth.yaml</code></pre></div>\n<h2>Configure RBAC</h2>\n<p>When Mark logs in we want him to have cluster admin privileges. Since Openshift already ships with a cluster-admin role we just need to make sure any user with a group claim <code class=\"language-text\">cluster-admins</code> will have cluster admin privileges on the cluster. We can achieve that by creating a <code class=\"language-text\">ClusterRoleBinding</code>. I wrote a simple ansible script to automate the RBAC configurations covered in this demo. You can check out the ansible script <a href=\"https://github.com/rprakashg-redhat/rbac-demos/blob/main/configure-rbac.yaml\">here</a>. Snippet below shows cluster role binding creation to allow users with <code class=\"language-text\">cluster-admins</code> group claim cluster admin privileges.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">kubectl create clusterrolebinding okta<span class=\"token punctuation\">-</span>cluster<span class=\"token punctuation\">-</span>admin<span class=\"token punctuation\">-</span>crb <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>dry<span class=\"token punctuation\">-</span>run=client <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>clusterrole=cluster<span class=\"token punctuation\">-</span>admin <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>group <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> providers.okta.adminClaim <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">-</span>o yaml <span class=\"token punctuation\">|</span> kubectl apply <span class=\"token punctuation\">-</span>f <span class=\"token punctuation\">-</span></code></pre></div>\n<p>For developers Tiger Woods and Ram G I created a custom <code class=\"language-text\">ClusterRole</code> and named it <code class=\"language-text\">Contributor</code>. You can see the entire definition <a href=\"https://github.com/rprakashg-redhat/rbac-demos/blob/main/templates/contributor.yaml\">here</a></p>\n<p>Once the <strong>contributor</strong> <code class=\"language-text\">ClusterRole</code> is created we can use a <code class=\"language-text\">RoleBinding</code> resource to lock down permissions for developers to their respective namespaces <code class=\"language-text\">teama</code> and <code class=\"language-text\">teamb</code></p>\n<p>I've defined a <a href=\"https://github.com/rprakashg-redhat/rbac-demos/blob/main/templates/rb.yaml.j2\">jinja2 template</a> that loops through a list and grants any user with group claim <code class=\"language-text\">teama</code> contributor permissions on namespace <code class=\"language-text\">teama</code> and users with group claim <code class=\"language-text\">teamb</code> gets contributor rights on namespace <code class=\"language-text\">teamb</code>. Ansible playbook reads this configuration from the static vars yaml configuration file.</p>\n<p>I've run the ansible playbook using the command below and it completed successfully.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">ansible-playbook -v configure-rbac.yaml</code></pre></div>\n<p>Lets login to cluster as Mark Smith. Open a browser and navigate to openshift webconsole URL for the cluster. Screen capture below shows authentication page</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e529a1535941b4b8431a552571fd37dc/29114/ocpauth.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0UlEQVR42oVSy04iQRStAE2/eAVoYHgshO5xM2vAkdVoIh9CwicomGh0KzsTN3yAbnxtxpXzVaxknDP3lFVkcDOdnD51q6vOvffcVqP9fRwdHODo8BCj0QjD4RB7e981E/1+X/PAxHo9GGyBZ8j8ppIkQdzrIRH0yIyTr+jFsY673S5iWcfcF96xsUGSxPqMvasqlQrK5TKq1SqiKEI1EjZrolarIQhDZBwHTjaLdCYD13NRKBTwcbcCq0FW9hIPZOWC63lwXXcDR4RS6bT+lmUsTDBBqVTSd23yKKpB1et15PN5jMdjXF5e4OTkGKfzOebzGWazY5yfn+GHeKyU0tU5plIK5nK5T4IRVLPZRCqVwmKxAJ/VaoV34bW83tZrvXd9c4OCCH7b3YX/T/ue72+JbQleGcHfIvL2R8TeP9Z8lsslfBHodDraT8e0n5POitL2lmCj0YAnvk0mE7y+/sL9/QOenp/x8PiE27s7/Hx5wXQ61VXRdD04GRrBQWREnJbZ1jdDKRaLCKSFMAg0AgErp3dkxwyM+6F4F0qlrhkS95mAOspm/OyFTcQqfBFhhRwKJ25hYyaxVatWu432f0DvvojXkUnA38WCIq1Wa3P2L7M/TsAIVf9MAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ocpauth\"\n        title=\"\"\n        src=\"/static/e529a1535941b4b8431a552571fd37dc/5a190/ocpauth.png\"\n        srcset=\"/static/e529a1535941b4b8431a552571fd37dc/772e8/ocpauth.png 200w,\n/static/e529a1535941b4b8431a552571fd37dc/e17e5/ocpauth.png 400w,\n/static/e529a1535941b4b8431a552571fd37dc/5a190/ocpauth.png 800w,\n/static/e529a1535941b4b8431a552571fd37dc/c1b63/ocpauth.png 1200w,\n/static/e529a1535941b4b8431a552571fd37dc/29007/ocpauth.png 1600w,\n/static/e529a1535941b4b8431a552571fd37dc/29114/ocpauth.png 1920w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Select <code class=\"language-text\">okta</code> for login and we will be redirected to <code class=\"language-text\">Okta</code> signin page as shown in screen capture below</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/459b4d70d7e5af2240831d61537e9fd6/29114/authmsmith.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCUlEQVR42qWRzU6DQBSF53WgIUDKSg2Pqa+iC2OAaVn7s240cWFSIzQtzB8zxxmwVRelCZ3ky80998wJlyHzeYKLyyukaYokSRCGIaIo+uXQxwfNn83geR583+9rEAT9vTiOQSilKPIctChQWFxPF0sUTrd9lmUolwuUZTnMLLn1O91V59lXNyMYOcYMdV21+Kzbf9qxQxhjGENrjapu8LXZ2TCNU34ihMAxpJSoN1u0jKPTBlJ1GPM7yLhBQokWppM/65rpgZyLPuj+aYfr2wo3dzUenptec7NJgUoKvH40eFxt8fLG8L4etEmBe3Qn7K5uZWkfSJz7D4ev+cvJQM55/5pKqbNxWd/Bzx/u/M3SNQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"oktaauth\"\n        title=\"\"\n        src=\"/static/459b4d70d7e5af2240831d61537e9fd6/5a190/authmsmith.png\"\n        srcset=\"/static/459b4d70d7e5af2240831d61537e9fd6/772e8/authmsmith.png 200w,\n/static/459b4d70d7e5af2240831d61537e9fd6/e17e5/authmsmith.png 400w,\n/static/459b4d70d7e5af2240831d61537e9fd6/5a190/authmsmith.png 800w,\n/static/459b4d70d7e5af2240831d61537e9fd6/c1b63/authmsmith.png 1200w,\n/static/459b4d70d7e5af2240831d61537e9fd6/29007/authmsmith.png 1600w,\n/static/459b4d70d7e5af2240831d61537e9fd6/29114/authmsmith.png 1920w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Type in credentials for Mark Smith and click <code class=\"language-text\">Sign In</code>. After successful authentication we are going to get redirected back to OpenShift web console and will be logged into console successfully as shown in screen capture below</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/59c33c18f72de61c93f178adbae54ca5/29114/smithclusteradmin.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB70lEQVR42m1T2XKcMBDkH7IGhABJiHPB7LJ4471SKcep/P8fdVqDE1el8tA10miOnh6Ibvc7fr694df7Ox6PB67XK66322aJ8/mMZVmwnE44EXL+B+u64vz1FRfGR64osPQ9ijxHkiRI0xSpyqCUolXii8Wv5C1JNsRxjCzLkGsttipLlERkrIc1FeJUIyGaduCDw5ddgt1TKniK1f+RZGyWYcezVTlUmiGajmf4bo+mG1G3I0o/IC8sstxA0+o8wMj9r0/ePxFi1Mc5almoNB5FWUmC9T2G6YiWTcSnSzZwKIotRoprg5y2KAynsR93izTLETXtHsbWfPDS2dU9+vGIyndwVSvFfD1gmlZ03Sw+4xpYSjXt9+jqBi7ciTQrENXNIJ0Dy5CseXb0laYmAyfjGNdiGA/o+lEShTHj626CNo3kB0hBT0afBTct0tzRhoASWhvRJtwz3gMUE0NcotnQNlCURTEuUcU2cugaCgY28+GEw7xw2yMKV8O1HLEiK46oA2tPRo5fBoloMm3bHibsgG9Ky1L2opdsip2HacF0ukhBWYCjBNTQcuyg9Z/N5yyQZgaecc0ww1Yd0lAwFAsIWhoyOq6vxAVBCktm0/yM++M7/55v/BuuZLQR8N0zvwhqO69Y7z/w8nJBVbf4DZFbNGOQ7EvGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"msmith\"\n        title=\"\"\n        src=\"/static/59c33c18f72de61c93f178adbae54ca5/5a190/smithclusteradmin.png\"\n        srcset=\"/static/59c33c18f72de61c93f178adbae54ca5/772e8/smithclusteradmin.png 200w,\n/static/59c33c18f72de61c93f178adbae54ca5/e17e5/smithclusteradmin.png 400w,\n/static/59c33c18f72de61c93f178adbae54ca5/5a190/smithclusteradmin.png 800w,\n/static/59c33c18f72de61c93f178adbae54ca5/c1b63/smithclusteradmin.png 1200w,\n/static/59c33c18f72de61c93f178adbae54ca5/29007/smithclusteradmin.png 1600w,\n/static/59c33c18f72de61c93f178adbae54ca5/29114/smithclusteradmin.png 1920w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Next we are going to login to the cluster as Tiger Woods. We are going to logout and clear browser cache and open a new browser session and navigate to openshift web console and like earlier we are going to select <code class=\"language-text\">okta</code> signin option and from the okta signin page we are going to enter credentials for Tiger Woods and sign in.</p>\n<p>We can see from the screen captures for administrator and developer perspectives that tiger woods can only see resources within the namespace <code class=\"language-text\">teama</code> because he is a member of group <code class=\"language-text\">teama</code> in okta</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/29114/tigeradminperspective.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbElEQVR42qWS23KCMBCG8wQqSkAFwpkAnirqeGC80fb9H+nvbhTtRcdO24tv9s9mT1kQbdvi/XLBx/WK8/mM4/GI06kle8KB9GG/x2azQdM037Jer7Hb7bCnOM4VsQrQpClKrSGlxGQ8hnRdOI4D11hptHP3MRwnbZvuHfiBD3fsQimFqTeFkJIOvsJ44qPXtzCwRqQ92LaLXs8i39DQH1jECAPGemIN7buVsCwbYrU9opqvkBY1imqOvJxhf2ixetsiSTXSrESaV0jIxkmBMMoQqAQqTA2BYps9zkLXSwrWCOMMESVESQ5dzpFRkapeYLFsUM+WRmd5SU+MH8md9vzIwI0EJ3LnzqGIRJdQ5AsooaSpOZEbpVRw6oWmYaFr469ooELPEMX5reBtmmdnfpJH2qdL9nEjtq8I7rGMyGl33djdbn4q8ArBS+flczGGJ/xXwYwK8rO9u+Prkv+C4IUy5vcg+CN1+vdofALo0jGFmIMYPgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Admin\"\n        title=\"\"\n        src=\"/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/5a190/tigeradminperspective.png\"\n        srcset=\"/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/772e8/tigeradminperspective.png 200w,\n/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/e17e5/tigeradminperspective.png 400w,\n/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/5a190/tigeradminperspective.png 800w,\n/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/c1b63/tigeradminperspective.png 1200w,\n/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/29007/tigeradminperspective.png 1600w,\n/static/bec5f31fbbb9a7a1bf2a9b60c1e64f0b/29114/tigeradminperspective.png 1920w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fe0f950db3d61a8b72f009caca91d055/29114/tigerdevperspective.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnUlEQVR42o2S23KbQAyGuW9rwy7LeZczuLZjAtRjsMc3Safv/0Z/tes6k+J2kotv9CMkraSRdblc8PPlBb9eX3G9XjHPM87km89nTKTnecI0TRjHEcMwPND3PY7HI06nk8m1cikxVCU2bQshBIIggPA8uKT1N+cMrstJk891DVxbzuFRXJIk8H0PSilEUQxLiAAqlgjCBOs1g8ME0jSHlBkFSBRFTVT0UAw/iCg5MlZ4AZjjgnkxHF+CcY8QsJp2h7zcQKoCaVYhy2tstk/onn8Ye+hGHJ5Ho/eHHttdZ2zdbhElKUINPR7GymhrR4kV/UzLBnm9QaxyfFnZhq9r5y/9zWZgwn/TK4cT7A/cYDrUXcVJZroMIwWbWl+yYrQ3P8T3/cFo7VuTXWJV1W3cROZvBZdB+mXdWVm3KJsNUtqp9v2zYPlhQUp0A9ihAo9u+xI0TZgoOK73WLButg8jL4Nsfh+R4Df+O7IumBcNojg1Xfp0Pnrhd+7LXml99y3/vcMqyhYaPbomo7vb7Ts6mwFPXY9IphB0d14Yf4rfYvUjEKDXi+0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Dev\"\n        title=\"\"\n        src=\"/static/fe0f950db3d61a8b72f009caca91d055/5a190/tigerdevperspective.png\"\n        srcset=\"/static/fe0f950db3d61a8b72f009caca91d055/772e8/tigerdevperspective.png 200w,\n/static/fe0f950db3d61a8b72f009caca91d055/e17e5/tigerdevperspective.png 400w,\n/static/fe0f950db3d61a8b72f009caca91d055/5a190/tigerdevperspective.png 800w,\n/static/fe0f950db3d61a8b72f009caca91d055/c1b63/tigerdevperspective.png 1200w,\n/static/fe0f950db3d61a8b72f009caca91d055/29007/tigerdevperspective.png 1600w,\n/static/fe0f950db3d61a8b72f009caca91d055/29114/tigerdevperspective.png 1920w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Now lets clear browser cache and log back into the cluster as Ram G and examine what the experience looks like for Ram G who is a developer working with <code class=\"language-text\">Team B</code></p>\n<p>We can see from the screen captures for administrator and developer perspectives that Ram G can only see resources within the namespace <code class=\"language-text\">teamb</code> because he is a member of group <code class=\"language-text\">teamb</code> in okta</p>\n<h2>Resources</h2>\n<p>If you want to learn more about oauth and identity providers in openshift check out this <a href=\"https://docs.openshift.com/container-platform/4.15/authentication/understanding-identity-provider.html\">article</a></p>\n<p>Hope this helps. Please feel free to reach out if you have any questions about this post.</p>\n<p>Thanks,\nRam</p>","id":"89cdab64-2893-5ec4-b0ea-40b82664de24","frontmatter":{"title":"Authentication and role based access control in OpenShift","date":"March, 2024","tags":["containers","platform","kubernetes","openshift","redhat"]},"fields":{"slug":"/auth-and-rbac-in-ocp/"}}}]}},"pageContext":{"tag":"openshift"}},"staticQueryHashes":["1611934721","2366241629"],"slicesMap":{}}