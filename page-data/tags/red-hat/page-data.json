{
    "componentChunkName": "component---src-templates-tag-js",
    "path": "/tags/red-hat/",
    "result": {"data":{"site":{"siteMetadata":{"title":"rprakashg.github.io","author":"RAM GOPINATHAN"}},"allMarkdownRemark":{"totalCount":1,"edges":[{"node":{"excerpt":"If you are a kubernetes developer and you are using Github and Red Hat Advanced Cluster Security for kubernetes, you are going to find yourselves having to run roxctl which is a command line utilityâ€¦","html":"<p>If you are a kubernetes developer and you are using Github and Red Hat Advanced Cluster Security for kubernetes, you are going to find yourselves having to run roxctl which is a command line utility provided with Red Hat Advanced Cluster security from your CICD pipelines. These tools aren't installed on github runners by default and you are going to have to download and install this yourself within your CICD pipeline. I found myself doing this over and over for various demos I worked on and decided to write a custom action to do just that.</p>\n<p><a href=\"https://github.com/rprakashg-redhat/setup-roxctl\">Here</a> is the Github repository for the setup-roxctl action.</p>\n<h1>Usage</h1>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> github.com/rprakashg<span class=\"token punctuation\">-</span>redhat/setup<span class=\"token punctuation\">-</span>roxctl@main\n  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Version of roxctl to be downloaded</span>\n    <span class=\"token comment\"># Default: latest</span>\n    <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span></code></pre></div>\n<h1>Scenarios</h1>\n<ul>\n<li><a href=\"#download-latest-version\">Download latest version</a></li>\n<li><a href=\"#download-specific-version\">Download specific version</a></li>\n</ul>\n<h2>Download latest version</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> rprakashg<span class=\"token punctuation\">-</span>redhat/setup<span class=\"token punctuation\">-</span>roxctl@main\n  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"latest\"</span></code></pre></div>\n<h2>Download specific version</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> rprakashg<span class=\"token punctuation\">-</span>redhat/setup<span class=\"token punctuation\">-</span>roxctl@main\n  <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"4.3.4\"</span></code></pre></div>\n<p>I've included an example workflow in the repo where you can see the action live. Below you can find the full yaml for the workflow.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> example\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Version of roxctl to setup\n        <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> string\n        <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"latest\"</span>\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">test</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v4\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> setup roxctl\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> setup<span class=\"token punctuation\">-</span>roxctl\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> ./\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> inputs.version <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> verify\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          ./roxctl version\n          ./roxctl help</span></code></pre></div>\n<p>Check out the <a href=\"https://github.com/rprakashg-redhat/setup-roxctl/actions/runs/7632384910/job/20792494029\">output</a> from the most recent run for the example to see this in a live environment</p>\n<p>Hope this helps,</p>\n<p>As always please reach out to me if you have any questions about this post via any of the contact methods listed here.</p>\n<p>Thanks,\nRam</p>","id":"3b07e5a0-dff5-56ea-a2a6-878f3df25875","frontmatter":{"title":"Running roxctl commands from github actions workflows","date":"January, 2024","tags":["RHACS","RedHat","Developer","Tools","Github"]},"fields":{"slug":"/roxctl-with-github-actions-workflow/"}}}]}},"pageContext":{"tag":"RedHat"}},
    "staticQueryHashes": ["1611934721","2366241629"]}